define(["exports","./tslib.es6-d9d2f5d6","preact/jsx-runtime","./utils/UNSAFE_size","css!./UNSAFE_MeterBar.css","./utils/UNSAFE_classNames","./utils/UNSAFE_mergeProps","preact/hooks","./hooks/UNSAFE_useUser","./hooks/PRIVATE_useDvtMeterEvents","./utils/PRIVATE_meterUtils","./PRIVATE_Meter","./classNames-2ba58777","./hooks/UNSAFE_useTabbableMode","./UNSAFE_Environment","preact","./UNSAFE_Layer","preact/compat","./hooks/UNSAFE_useTooltip","./hooks/UNSAFE_useId","./UNSAFE_Floating","./Floating-f23a546d","./index-b6f31c6c","./utils/PRIVATE_floatingUtils","./utils/PRIVATE_refUtils","./hooks/UNSAFE_useOutsideClick","./utils/UNSAFE_arrayUtils","./hooks/UNSAFE_useHover","./hooks/UNSAFE_useToggle","./hooks/UNSAFE_useFocus","./hooks/UNSAFE_useTouch","./hooks/UNSAFE_useAnimation","./useAnimation-c8511df4"],function(t,e,o,r,a,i,n,s,l,c,h,d,u,m,g,_,p,f,v,S,k,b,x,E,z,M,A,T,F,U,N,j,w){"use strict";function B(t){if(!t)return{width:0,height:0};const e=t.getBoundingClientRect();return{width:e.width,height:e.height}}function C({orientation:t,percentage:e,color:r,position:a}){const i="horizontal"===t,{direction:n}=l.useUser(),s="rtl"===n,c="start"===a;return o.jsx("div",{class:u.classNames([y.base,y[`${t}Border`],y[`${t}`],c?i?y.horiontalStart:y["verticalStart"+(s?"Rtl":"Ltr")]:""]),style:{left:i&&!s?e:void 0,right:i&&s?e:void 0,bottom:i?void 0:e,backgroundColor:r}})}const y={base:"_1il27gr",verticalBorder:"_1tsf40m",horizontalBorder:"lhtlxk",vertical:"v497j3",horizontal:"_1t8qxxd",horiontalStart:"l3yect",verticalStartLtr:"_63jo9c",verticalStartRtl:"lsrph9"};function R(t){var{color:r,length:a,orientation:i}=t,n=e.__rest(t,["color","length","orientation"]);const{direction:s}=l.useUser(),c="horizontal"===i,h="rtl"===s;return o.jsx("div",{class:u.classNames([I.base,c?I["horizontalBarTrackSection"+(h?"Rtl":"Ltr")]:I.verticalBarTrackSection,n.class]),style:{width:c?a:"100%",height:c?"100%":a,backgroundColor:r}})}const I={base:"_13hy386",verticalBarTrackSection:"_1rl0wxf",horizontalBarTrackSectionRtl:"us5i2i",horizontalBarTrackSectionLtr:"_2f1xsh"};const L=function(t,e,o){const r=[];return t.start&&r.push(V[`${e}Margin${o?"Top":"Start"}`]),t.end&&r.push(V[`${e}Margin${o?"Bottom":"End"}`]),r},P={base:"_1djr1mo",horizontal:"_4fioe",vertical:"_1h4aroh",interactive:"_1mi2mlw"},$={base:"_1mhlen2",vertical:"_1w1w0ng",horizontal:"_1h2e1m0"},V={base:"_1231aw2",vertical:"p3ixi0",smHorizontal:"jafqcq",smVertical:"nkojca",mdHorizontal:"_1of7ei0",mdVertical:"pr47fm",lgHorizontal:"_1r6nrtp",lgVertical:"_2m2fqk",smMarginTop:"hkwp02",mdMarginTop:"_13af1l4",lgMarginTop:"_1nhz76a",smMarginStart:"reckw2",mdMarginStart:"lwf3os",lgMarginStart:"_1jjgd1y",smMarginEnd:"a6ck84",mdMarginEnd:"vn7tak",lgMarginEnd:"_1tm25z2",smMarginBottom:"_108dznk",mdMarginBottom:"_9mcqgr",lgMarginBottom:"lusjyt"},q={horizontalFirst:"_1injukn",horizontalLast:"_1o2a2sw",verticalFirst:"umweak",verticalLast:"_19h8qtv"};t.MeterBar=function(t){var a,i,{max:g=100,min:_=0,value:p=0,step:f=1,length:v="100%",size:S="lg",orientation:k="horizontal",isTrackRendered:b=!0,thresholdDisplay:x="all",indicatorSize:E=1}=t,z=e.__rest(t,["max","min","value","step","length","size","orientation","isTrackRendered","thresholdDisplay","indicatorSize"]);h.validateRange(_,g,p,f);const M="horizontal"===k,A=s.useRef(null),T=s.useRef(B(null)),{direction:F}=l.useUser(),U="rtl"===F;s.useEffect(()=>{(z.onCommit||z.onInput)&&(T.current=B(A.current))},[S,v,k,z.onCommit,z.onInput]);const N=c.usePointerEvents(p,t=>{if(t.target==A.current)return function(t,e,o,r,a,i,n){const s=e.current;if(!s||0===s.width)return;let l;if("horizontal"===i){const e=t.offsetX;l=o+(r-o)*(n?s.width-e:e)/s.width}else l=o+(r-o)*(s.height-t.offsetY)/s.height;return l=Math.round(l/a)*a,Math.max(o,Math.min(r,l))}(t,T,_,g,f,k,U)},A,z.onCommit,z.onInput),j=c.useKeyboardEvents(p,_,g,f,z.onCommit,z.onInput),{datatipContent:w,datatipProps:y}=c.useMeterDatatip(p,z.datatip,z.ariaDescribedBy),I=h.getMeterAriaProps(p,_,g,`${p}`,z.accessibleLabel,z.ariaLabelledBy,z.thresholds),D=n.mergeProps(N,j,y,I),H=Math.max(0,Math.min(1,E)),O=100*(p-_)/(g-_)+"%",K=100*H+"%",{trackColor:X,indicatorColor:Y}=h.getTrackAndIndicatorColor(p,x,z.trackColor,z.indicatorColor,z.thresholds),G=function(t){let e={start:!1,end:!1};return t&&(e=t.reduce((t,e)=>(t.start=t.start||"start"===e.position,t.end=t.end||"end"===e.position||null==e.position,t),e)),e}(z.referenceLines),J=z.onCommit||z.onInput,{isTabbable:Q}=m.useTabbableMode();return o.jsxs(o.Fragment,{children:[o.jsx("div",Object.assign({tabIndex:Q?0:-1,role:"slider"},D,{style:{width:M?r.sizeToCSS(v):void 0,height:M?void 0:r.sizeToCSS(v)},class:u.classNames([P.base,P[k]])},{children:o.jsxs(d.BarTrack,Object.assign({ref:A,orientation:k,color:!b||"all"===x&&z.thresholds?"transparent":X,class:u.classNames([V.base,J?P.interactive:"",M?"":V.vertical,M?V[`${S}Horizontal`]:V[`${S}Vertical`],...L(G,S,M)])},{children:["all"===x&&(null===(a=z.thresholds)||void 0===a?void 0:a.filter(t=>t.max>_&&t.max<=g).sort((t,e)=>t.max-e.max).map((t,e,r)=>{const a=0===e?t.max-_:t.max-r[e-1].max;return o.jsxs(o.Fragment,{children:[o.jsx(R,{class:0===e?q[`${k}First`]:"",orientation:k,length:100*a/(g-_)+"%",color:t.color}),b&&e===r.length-1&&t.max<g?o.jsx(R,{class:q[`${k}Last`],color:X,orientation:k,length:100*(g-r[e].max)/(g-_)+"%"}):""]})})),o.jsx(d.BarValue,{length:O,size:K,orientation:k,class:u.classNames([$.base,$[k]]),color:Y}),null===(i=z.referenceLines)||void 0===i?void 0:i.map(t=>o.jsx(C,{color:t.color,orientation:k,percentage:100*(t.value-_)/(g-_)+"%",position:t.position}))]}))})),w]})},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=UNSAFE_MeterBar.js.map
