import { WebDriver } from 'selenium-webdriver';

/**
 * Get open busy state descriptions from the page context
 * @private
 * @param driver
 * @returns an array of strings of busy state descriptions
 */
export const getBusyStates = (driver: WebDriver): Promise<string> => {
  return driver
    .executeScript<string[]>(
      `
return require('ojs/ojcontext').getPageContext().getBusyContext().getBusyStates()
.map((state) => state.description)
`
    )
    .catch((ex) => ex.message);
};
