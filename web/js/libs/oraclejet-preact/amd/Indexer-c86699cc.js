define(["exports","preact/jsx-runtime","preact","preact/hooks","./UNSAFE_Flex",'module',"./utils/UNSAFE_mergeProps","./useSingleSelection-bd1208cf","./hooks/PRIVATE_useCurrentKey","./hooks/PRIVATE_useCollectionFocusRing","./utils/PRIVATE_collectionUtils","./utils/PRIVATE_clientHints","./hooks/UNSAFE_useId","./hooks/UNSAFE_useTranslationBundle","./UNSAFE_HiddenAccessible","./PRIVATE_Collection","./tslib.es6-d9d2f5d6","./utils/UNSAFE_classNames","preact/compat","./classNames-2ba58777","./Flex-f922bd14","./Collection-8a961897","./HiddenAccessible-3afe5d7e","./clientHints-4aaefa1c"],function(e,t,s,n,a,r,i,l,c,o,u,d,y,f,x,b,k,v,j,g,h,_,O,N){"use strict";const R=Object.freeze({key:"__others__",label:"#"}),E="_1p5hlru",p="_10gfkax",T="_1ocvbkm",m="_1sdkias",A="."+E,S="_1h2nq41",w=j.forwardRef((e,s)=>{const n=f.useTranslationBundle("@oracle/oraclejet-preact"),{context:a,selectedKey:r}=e,i=a.data.key===r,l=F(e,s),c=g.classNames([l.class,a.data.isDisabled&&p,i&&m]),o=a.data.label||a.data.key,u=a.data.isDisabled?n.indexer_disabledLabel({SECTION:`${o}`}):`${o}`;return t.jsx("li",Object.assign({},l,{class:c,"data-oj-valuetext":u,"data-oj-disabled":a.data.isDisabled},{children:a.data.label||a.data.key}))});function F({context:e,currentKey:t,valueNow:s,isFocusRingVisible:n},a){const r=e.data.key===t,i=g.classNames([E,r&&n&&T]);return Object.assign(Object.assign({},r&&{ref:a}),{key:e.data.key,class:i,"data-oj-key":e.data.key,"data-oj-key-type":typeof e.data.key,"data-oj-valuenow":s,isFocusRingVisible:!!n})}const I=j.forwardRef((e,n)=>{var{lastValueNow:a}=e,r=k.__rest(e,["lastValueNow"]);const i=Object.assign(Object.assign({},r),{ref:n});return t.jsxs(s.Fragment,{children:[t.jsx(w,Object.assign({},i)),t.jsx(C,Object.assign({},i,{ref:n,context:{index:-1,data:R},valueNow:a}))]})}),C=j.forwardRef((e,s)=>{const{context:n,selectedKey:a}=e,r=F(e,s),i=n.data.key===a,l=g.classNames([r.class,i&&m]),c=R.label;return t.jsx("li",Object.assign({},r,{class:l,"data-oj-valuetext":c},{children:n.data.label}))}),P=j.forwardRef((e,s)=>{const n=f.useTranslationBundle("@oracle/oraclejet-preact"),{context:a,sections:r}=e,i=F(e,s),{from:l,to:c}=V(e);if(!K(a.index,l,c))return null;const o=r[l].label||r[l].key,u=r[c].label||r[c].key,d=g.classNames([S]),y=n.indexer_separatorLabel({FROM_SECTION:`${o}`,TO_SECTION:`${u}`});return t.jsx("li",Object.assign({},i,{"data-oj-valuetext":y},{children:t.jsx(h.Flex,Object.assign({align:"center",justify:"center"},{children:t.jsx("div",{class:d})}))}))});function V({context:e,sectionsPerTruncation:t,last:s}){const n=e.index-e.index%t+1;let a=n+t-2;return a=a>=s?s-1:a,{from:n,to:a}}function K(e,t,s){return e===Math.floor((t+s)/2)}const H="_557oxf",U="_19n8u75",B=[{key:"A"},{key:"B"},{key:"C"},{key:"D"},{key:"E"},{key:"F"},{key:"G"},{key:"H"},{key:"I"},{key:"J"},{key:"K"},{key:"L"},{key:"M"},{key:"N"},{key:"O"},{key:"P"},{key:"Q"},{key:"R"},{key:"S"},{key:"T"},{key:"U"},{key:"V"},{key:"W"},{key:"X"},{key:"Y"},{key:"Z"}];const D=(e,t,s)=>e===t.current?void 0===s?null:s:u.keyExtractor(e,A),M=(e,t,s)=>{if(e.value===R.key)t({value:R.key});else{t({value:s.find(t=>t.key===e.value).key})}},$=(e,t,s,n,a,r,i)=>{if(0===e||0===t)return;const l=e/t,c=s-1;if(l<2)a!==c&&(r(c),i(n));else if(l>s||s-l<.01)a>1&&(r(1),i(n));else{const e=L(l,c);e!==a&&e<s&&(r(e),i(n))}},L=(e,t)=>{e-=2,e/=2;const s=Math.round(t/e)+1,n=t%s,a=Math.floor(t/s)+(n>1?1:0);let r=t-(a-1)*s,i=s;for(;i>r;)i-=1,r=t-(a-1)*i;return i!=s&&(i+=1),i};function q(e){const t=N.getClientHints().deviceType;return"phone"===t||"tablet"===t?e.indexer_touchInstructionText():e.indexer_keyboardInstructionText()}e.Indexer=function({sections:e=B,value:a,onCommit:r=(()=>{})}){var d;const x=n.useRef(null),b=n.useRef(null),k=s.createRef(),[v,j]=n.useState(null===(d=e[0])||void 0===d?void 0:d.key),[g,N]=n.useState(-1),R=n.useRef(-1),E=n.useRef(0),p=y.useId(),[T,m]=o.useCollectionFocusRing(e=>{var t;return!!(null===(t=x.current)||void 0===t?void 0:t.contains(e))},["ArrowUp","ArrowDown"]),{currentKeyProps:S}=c.useCurrentKey(e=>u.keyExtractor(e,A),u.getPrevNextKey(x.current,v,!0,A),u.getPrevNextKey(x.current,v,!1,A),v,e=>j(e.value)),{selectionProps:F}=l.useSingleSelection(e=>D(e,b,v),void 0,t=>M(t,r,e)),C=n.useCallback(t=>{var s;for(const n of t)$(n.contentRect.height,E.current,e.length,null===(s=e[0])||void 0===s?void 0:s.key,g,N,j)},[e,g]);n.useEffect(()=>{var e,t,s,n;b.current&&(b.current.setAttribute("aria-valuemax",R.current+1+""),b.current.setAttribute("aria-valuetext",(null===(t=null===(e=k.current)||void 0===e?void 0:e.dataset)||void 0===t?void 0:t.ojValuetext)||""),b.current.setAttribute("aria-valuenow",(null===(n=null===(s=k.current)||void 0===s?void 0:s.dataset)||void 0===n?void 0:n.ojValuenow)||"")),R.current=-1}),n.useEffect(()=>{var t,s;const n=x.current;n&&(E.current=(null===(t=n.querySelector("li"))||void 0===t?void 0:t.offsetHeight)||0,$(n.offsetHeight,E.current,e.length,null===(s=e[0])||void 0===s?void 0:s.key,g,N,j))},[e,g]),n.useEffect(()=>{const e=x.current;if(e){const t=new ResizeObserver(e=>{C(e)});return t.observe(e),()=>{t.unobserve(e)}}},[g,C]);const L=f.useTranslationBundle("@oracle/oraclejet-preact");return t.jsxs("div",Object.assign({ref:x,class:H},{children:[t.jsx(h.Flex,Object.assign({align:"center",width:"6x",height:"100%"},{children:t.jsx("ul",Object.assign({},i.mergeProps(S,m,F),{ref:b,tabIndex:0,"aria-label":"Indexer","aria-orientation":"vertical","aria-valuemin":"0","aria-describedby":p,role:"slider",class:U},{children:t.jsx(_.Collection,Object.assign({items:e},{children:s=>{const n=e.length-1;R.current+=1;const r={context:s,ref:k,currentKey:v,selectedKey:a,valueNow:R.current,isFocusRingVisible:!!T};if(s.index===n)return t.jsx(I,Object.assign({},r,{lastValueNow:R.current+1}));if(g<=1||s.index%g==0)return t.jsx(w,Object.assign({},r));const i=Object.assign(Object.assign({},r),{sectionsPerTruncation:g,last:n,sections:e});return function(e){const{from:t,to:s}=V(e);return K(e.context.index,t,s)}(i)?t.jsx(P,Object.assign({},i)):(R.current-=1,null)}}))}))})),t.jsx(O.HiddenAccessible,{children:t.jsx("span",Object.assign({id:p},{children:q(L)}))})]}))},e.SECTION_OTHERS=R});
//# sourceMappingURL=Indexer-c86699cc.js.map
